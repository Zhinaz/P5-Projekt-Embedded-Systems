\section{Discussion} \label{sec:discussion}

There have been a variety of issues in the implementation of the \projname{}. A number of these issues have to do with the hardware used for the \projname{}. LEGO NXT was chosen as the platform for the project, because it is a well-established platform for building small robots. The LEGO NXT platform was the available platform provided by the faculty. As a prototype of a larger system, the LEGO NXT is acceptable to use as a platform. However, a number of the sensors are too imprecise and inconsistent for a full scale system.

As seen in \secref{sec:ultrasonic_sensor}, the ultrasonic sensor have a number of issues regarding the tasks it is required to fulfil. It is difficult to distinguish between objects positioned close together and at a distance from the \projname{}. This leads to the \projname{} seeing two objects as one, as seen on \figref{fig:sonar-test-drawing}. Another issue is when an object is close enough to be collected, but the distance measured by the sensor is inaccurate. This results in the \projname{} moving forward towards, and pushing the object, despite already being inside grabbing distance. This inaccuracy has also made it complicated to determine an object's exact position. It also means that it was difficult mapping the scanned objects relative to each other, as was the case with the NN-algorithm.

The NIV-algorithm's lost-object-search was implemented to counter these inaccuracies, when moving towards a found object. As the ultrasonic sensor observes in a cone, it is likely that the objects won't be directly in front of the ultrasonic sensor, and therefore a lost-object-search counter this issue. This implementation worked reasonably, but an issue using the lost-object-search is that the ultrasonic sensor sometimes won't detect the object and either push it away or drive past it. These issues are due to the ultrasonic sensor's inaccuracy, and occur relatively rarely.

Another issue with the ultrasonic sensor, was that it had trouble detecting objects, that were positioned at certain angles, as described in \secref{sec:ultrasonic_sensor}. When an object is positioned like that, the sound waves will not be reflected back to the sensor, which means that the sensor will not be able to see them. This issue is likely to arise if square objects are used, however using round objects the issue is less likely to occur. A solution to this issue, using the ultrasonic sensor, have not been developed. Using two ultrasonic sensors, to increase precision, was considered, by comparing the results from both sensors. But if these were placed too close to each other, the sensors were going to affect each other. This idea was excluded because of the sensor interference.

The servo motors used for driving the robot also presented issues. This was due to the two motors used, one for each of the tank treads, and because precise movement was desirable, the two motors had to be synchronised. However, the two motors were running differently by default and the robot was not driving straight, which is illustrated in \secref{sec:servo_motor}. This was solved by implementing the motor controller and the speed adjuster, which gave the robot the movement precision it needed.

While the movement worked as intended, there were a lot of trouble with the object detection and thus accurately detecting the objects were difficult. As mentioned previously, the ultrasonic sensor is not precise enough for this task and for the NN-algorithm to work optimally, and a different, more precise sensor is needed. Due to the ultrasonic sensor's imprecision the NN-algorithm would not be working as intended and the NIV-algorithm was therefore implemented due to it being able to handle these imprecisions.

%The NN-algorithm requires a lot of precision. Using this algorithm, the robot needs to map the objects in relation to each other and the \projname{}'s starting position. It also needs to keep track of its own position, for example in the case where it hits a black line and have to recalculate its route without needing to scan again. A lot of the precision needed for movement was solved with the motor controller and speed adjuster. The compass sensor also helped ensure that correct angles were given and that the robot could rotate to these angles precisely. Overall the advanced movement for the robot has worked well. A gyro sensor might have been more optimal for this project, since the purpose was to measure rotations and not necessarily magnetic headings, but the compass sensor proved a reasonable replacement.

%It was attempted to make up for some of the inaccuracies by having the robot perform a small-step-search when moving towards a found object. In the world the robot sees that the object is located straight ahead, based on the input from the ultrasonic sensor. However in the actual world the object might be located at the edge of the sensor's cone. Driving straight forward might actually not be the right direction, so when the robot looses the object from it's view, it will perform the small-step-search to correct its angle.

%This has worked reasonably well. The robot does a good job on getting itself back on track and finally picking up the object. This technique relies heavily on the inputs of the ultrasonic sensor. To determine if the object is within the claw and ready to be picked up, the robot considers if the distance returned by the sensor meets a certain requirement. Because of the inaccuracies of the ultrasonic sensor, this has lead to the robot sometimes not detecting that the object is within reach, and have continued driving forward for a little, pushing the object along with it. Another rare case, is when the robot gets close to an object, but drives a little too much forward before correcting its direction. The object will get stuck right outside of the claw and the robot won't be able to collect it.

%Using the ultrasonic sensor, a way to solve this problem has not been found. Depending on the position of the objects and the robot, when the robot is scanning, it is very likely that this situation will arise. However there is no way to predict it. It is not possible to mitigate this inaccuracy, since the objects will not be detected at all. Cylinder-shaped objects like cans are picked up consistently, but the \projname{} is required to be able to pick up objects of different shapes. This is another reason that another, more precise sensor is needed for object detection.

%The project has tried to find a solution to solve the problems regarding the precision of the ultrasonic sensor. A few possible fixes/tweaks to increase the precision were tried: Firstly, the location of the ultrasonic sensor were changed a few times, to find more optimal conditions for the sensor. The result of this were the current location of the ultrasonic sensor, close to the ground and at the chassis of the \projname{}. At an earlier iteration, the sensor had been attached to the claw and this proved not to be a good solution. This also meant that the sensor was closer to the object, but the ultrasonic sensor is imprecise at close distances, as seen in \secref{sec:ultrasonic_sensor}. But the claw is also unstable and might not end at the same position, which might cause problems. The sensor must be as stable as possible. Using two ultrasonic sensors, to increase precision, was also considered, by comparing the results from both sensors. But if these were placed too close to each other, the sensors were going to affect each other. This idea was excluded because of the sensor interference.
